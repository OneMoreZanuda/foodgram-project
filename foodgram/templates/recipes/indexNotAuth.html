{% extends "base.html" %}
{% load static %}
{% load user_filters %}
{% block title %}Рецепты{% endblock %}
{% block css_file %}'recipes/pages/index.css'{% endblock %}
{% block link_css %}<link rel="stylesheet" href="{% static 'recipes/pages/index.css' %}">{% endblock %}

{% block nav %}         
	<nav class="nav">
		<div class="nav__container container">
			<ul class="nav__items list">
				<li class="nav__item nav__item_active"><a href="#" class="nav__link link">Рецепты</a></li>
				<li class="nav__item nav__item_disabled"><a href="#" class="nav__link link">Список покупок <span class="badge badge_style_blue nav__badge" id="counter">4</span></a></li>
			</ul>
			<ul class="nav__items list">
				<li class="nav__item"><a href="#" class="nav__link link">Войти</a></li>
				<li class="nav__item"><a href="#" class="button button_style_blue">Создать аккаунт</a></li>
			</ul>
		</div>
	</nav>
{% endblock nav %}

{% block content %}
	<div class="main__header">
		<h1 class="main__title">Рецепты</h1>
		<ul class="tags">
			<li class="tags__item">
				{% with params=request.GET %}
					<a id="breakfast" class="tags__checkbox tags__checkbox_style_orange 
					{% if not params.lunch %}tags__checkbox_active{% endif %}"
					{% if not params.lunch %}
						href="?{% updated_params params lunch='no' %}"
					{% else %}
						href="./{% if params %}?{{% updated_params params %}}{% endif %}"   
					{% endif %} 
					></a>
				{% endwith %}
				<span class="tags__label">Завтрак</span>
			</li>
			<li class="tags__item">
				<a id="lunch" class="tags__checkbox tags__checkbox_style_green tags__checkbox_active" href="#"></a>
				<span for="lunch" class="tags__label">Обед</span>
			</li>
			<li class="tags__item">
				<a id="dinner" class="tags__checkbox tags__checkbox_style_purple tags__checkbox_active" href="#"></a>
				<label for="dinner" class="tags__label">Ужин</label>
			</li>
		</ul>
	</div>
	<div class="card-list">
		{% for recipe in page_obj %}
			{% include "recipes/includes/recipe_item_preview.html" with recipe=recipe%}
		{% endfor %}
	</div>
  {% if page_obj.has_other_pages %}
	{% include "includes/paginator.html" with items=page_obj paginator=paginator %}
  {% endif %}
{% endblock content %}

{% block scripts %}
	<script src="{% static 'recipes/js/components/MainCards.js' %}"></script>
	
	<script src="{% static 'recipes/js/components/Purchases.js' %}"></script>
	
	<script src="{% static 'recipes/js/config/config.js' %}"></script>
	<script src="{% static 'recipes/js/components/CardList.js' %}"></script>
	<script src="{% static 'recipes/js/components/Header.js' %}"></script>
	
	<script src="{% static 'recipes/js/api/Api.js' %}"></script>
	<script src="{% static 'recipes/indexNotAuth.js' %}"></script>
{% endblock scripts %}